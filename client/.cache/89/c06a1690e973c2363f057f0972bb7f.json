{"id":"node_modules/inversify/lib/resolution/instantiation.js","dependencies":[{"name":"C:\\inspace\\inspace_\\client\\node_modules\\inversify\\lib\\resolution\\instantiation.js.map","includedInParent":true,"mtime":1623879764472},{"name":"C:\\inspace\\inspace_\\client\\package.json","includedInParent":true,"mtime":1624573831328},{"name":"C:\\inspace\\inspace_\\client\\node_modules\\inversify\\package.json","includedInParent":true,"mtime":1623879764472},{"name":"../constants/error_msgs","loc":{"line":9,"column":27},"parent":"C:\\inspace\\inspace_\\client\\node_modules\\inversify\\lib\\resolution\\instantiation.js","resolved":"C:\\inspace\\inspace_\\client\\node_modules\\inversify\\lib\\constants\\error_msgs.js"},{"name":"../constants/literal_types","loc":{"line":10,"column":30},"parent":"C:\\inspace\\inspace_\\client\\node_modules\\inversify\\lib\\resolution\\instantiation.js","resolved":"C:\\inspace\\inspace_\\client\\node_modules\\inversify\\lib\\constants\\literal_types.js"},{"name":"../constants/metadata_keys","loc":{"line":11,"column":27},"parent":"C:\\inspace\\inspace_\\client\\node_modules\\inversify\\lib\\resolution\\instantiation.js","resolved":"C:\\inspace\\inspace_\\client\\node_modules\\inversify\\lib\\constants\\metadata_keys.js"}],"generated":{"js":"\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveInstance = void 0;\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction _injectProperties(instance, childRequests, resolveRequest) {\n    var propertyInjectionsRequests = childRequests.filter(function (childRequest) {\n        return (childRequest.target !== null &&\n            childRequest.target.type === literal_types_1.TargetTypeEnum.ClassProperty);\n    });\n    var propertyInjections = propertyInjectionsRequests.map(resolveRequest);\n    propertyInjectionsRequests.forEach(function (r, index) {\n        var propertyName = \"\";\n        propertyName = r.target.name.value();\n        var injection = propertyInjections[index];\n        instance[propertyName] = injection;\n    });\n    return instance;\n}\nfunction _createInstance(Func, injections) {\n    return new (Func.bind.apply(Func, __spreadArray([void 0], injections)))();\n}\nfunction _postConstruct(constr, result) {\n    if (Reflect.hasMetadata(METADATA_KEY.POST_CONSTRUCT, constr)) {\n        var data = Reflect.getMetadata(METADATA_KEY.POST_CONSTRUCT, constr);\n        try {\n            result[data.value]();\n        }\n        catch (e) {\n            throw new Error(error_msgs_1.POST_CONSTRUCT_ERROR(constr.name, e.message));\n        }\n    }\n}\nfunction resolveInstance(constr, childRequests, resolveRequest) {\n    var result = null;\n    if (childRequests.length > 0) {\n        var constructorInjectionsRequests = childRequests.filter(function (childRequest) {\n            return (childRequest.target !== null && childRequest.target.type === literal_types_1.TargetTypeEnum.ConstructorArgument);\n        });\n        var constructorInjections = constructorInjectionsRequests.map(resolveRequest);\n        result = _createInstance(constr, constructorInjections);\n        result = _injectProperties(result, childRequests, resolveRequest);\n    }\n    else {\n        result = new constr();\n    }\n    _postConstruct(constr, result);\n    return result;\n}\nexports.resolveInstance = resolveInstance;\n"},"sourceMaps":{"js":{"version":3,"file":"instantiation.js","sourceRoot":"","sources":["../../src/resolution/instantiation.ts"],"names":[],"mappings":";;;;;;;;AAAA,sDAA+D;AAC/D,4DAA4D;AAC5D,yDAA2D;AAI3D,SAAS,iBAAiB,CACtB,QAAa,EACb,aAAmC,EACnC,cAAgD;IAGhD,IAAM,0BAA0B,GAAG,aAAa,CAAC,MAAM,CAAC,UAAC,YAAgC;QACrF,OAAA,CACI,YAAY,CAAC,MAAM,KAAK,IAAI;YAC5B,YAAY,CAAC,MAAM,CAAC,IAAI,KAAK,8BAAc,CAAC,aAAa,CAC5D;IAHD,CAGC,CAAC,CAAC;IAEP,IAAM,kBAAkB,GAAG,0BAA0B,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAE1E,0BAA0B,CAAC,OAAO,CAAC,UAAC,CAAqB,EAAE,KAAa;QACpE,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,YAAY,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;QACrC,IAAM,SAAS,GAAG,kBAAkB,CAAC,KAAK,CAAC,CAAC;QAC5C,QAAQ,CAAC,YAAY,CAAC,GAAG,SAAS,CAAC;IACvC,CAAC,CAAC,CAAC;IAEH,OAAO,QAAQ,CAAC;AAEpB,CAAC;AAED,SAAS,eAAe,CAAC,IAA6B,EAAE,UAAoB;IACxE,YAAW,IAAI,YAAJ,IAAI,0BAAI,UAAU,MAAE;AACnC,CAAC;AAED,SAAS,cAAc,CAAC,MAA+B,EAAE,MAAW;IAChE,IAAI,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC,EAAE;QAC1D,IAAM,IAAI,GAAa,OAAO,CAAC,WAAW,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAChF,IAAI;YACA,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;SACxB;QAAC,OAAO,CAAC,EAAE;YACR,MAAM,IAAI,KAAK,CAAC,iCAAoB,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;SACjE;KACJ;AACL,CAAC;AAED,SAAS,eAAe,CACpB,MAA+B,EAC/B,aAAmC,EACnC,cAAgD;IAGhD,IAAI,MAAM,GAAQ,IAAI,CAAC;IAEvB,IAAI,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;QAE1B,IAAM,6BAA6B,GAAG,aAAa,CAAC,MAAM,CAAC,UAAC,YAAgC;YACxF,OAAA,CAAC,YAAY,CAAC,MAAM,KAAK,IAAI,IAAI,YAAY,CAAC,MAAM,CAAC,IAAI,KAAK,8BAAc,CAAC,mBAAmB,CAAC;QAAjG,CAAiG,CAAC,CAAC;QAEvG,IAAM,qBAAqB,GAAG,6BAA6B,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAEhF,MAAM,GAAG,eAAe,CAAC,MAAM,EAAE,qBAAqB,CAAC,CAAC;QACxD,MAAM,GAAG,iBAAiB,CAAC,MAAM,EAAE,aAAa,EAAE,cAAc,CAAC,CAAC;KAErE;SAAM;QACH,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;KACzB;IACD,cAAc,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAE/B,OAAO,MAAM,CAAC;AAClB,CAAC;AAEQ,0CAAe","sourcesContent":[null]}},"error":null,"hash":"9069aa12b05302c192167c6119ba406a","cacheData":{"env":{}}}